$(function(){App.controller.homeHome=function(){console.log("Home page")}}),$(function(){App.controller.pagePage=function(){var a=Handlebars.templates.page,b={};$("#content").html(a($.extend(App[App.currentLang],b))),console.log("Just page")},App.controller.pageContactUs=function(){console.log("Contact us page")}}),this.Handlebars=this.Handlebars||{},this.Handlebars.templates=this.Handlebars.templates||{},this.Handlebars.templates.page=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){var f;return'<span id="handlebars-content">'+a.escapeExpression(a.lambda(null!=(f=null!=b?b.texts:b)?f.page_content_text_1:f,b))+"</span>"},useData:!0});var config={app:{interval:1e4,interval_not_focused:3e4,lang_period:3650,default_lang:"en_UK",default_lang_code:1},data_manager:{api:"URL_OF_THE_API"}},App={controller:{},listener:null,listener_interval:null,lang:null,langCode:0,pageConfig:{},isTabFocused:function(){var a,b,c={hidden:"visibilitychange",webkitHidden:"webkitvisibilitychange",mozHidden:"mozvisibilitychange",msHidden:"msvisibilitychange"};for(a in c)if(a in document){b=c[a];break}return function(c){return c&&document.addEventListener(b,c),!document[a]}}};$(function(){Router.config({mode:"history"}),dataManager.config({api:config.data_manager.api}),App.lang=dataManager.getCookie("lang")?dataManager.getCookie("lang"):config.app.default_lang,$("#lang-switcher").val(App.lang).show(),clearInterval(App.listener),App.listener_interval=config.app.interval,App.listener=setInterval(a,App.listener_interval),$(document).on("click",".pg-link",function(a){a.preventDefault(),a.stopImmediatePropagation();var b=$(this).attr("href");"#"!=b&&""!=b&&Router.navigate(b)}),$(document).on("click",".pg-link-inactive",function(a){a.preventDefault(),a.stopImmediatePropagation()}),$(document).on("click",".pg-action",function(a){a.preventDefault(),a.stopImmediatePropagation();var b=$(this).attr("data").split("-"),c=b[0];b.shift();for(i in b)c+=b[i].charAt(0).toUpperCase()+b[i].slice(1);App.controller[c]($(this))}),$("select.lang-switcher").on("change",function(a){a.preventDefault(),a.stopImmediatePropagation(),dataManager.setCookie("lang",$(this).val(),config.app.lang_period),window.location.href="/"+Router.getFragment()});var a=function(){App.isTabFocused()?App.listener_interval!=config.app.interval&&(App.listener_interval=config.app.interval,clearInterval(App.listener),App.listener=setInterval(a,App.listener_interval)):App.listener_interval!=config.app.interval_not_focused&&(App.listener_interval=config.app.interval_not_focused,clearInterval(App.listener),App.listener=setInterval(a,App.listener_interval)),App.isTabFocused()&&console.log("Some action")}}),Router.add("page",function(){App.controller.pagePage()}).add("contact-us",function(){App.controller.pageContactUs()}).check().listen(),App.en_UK={texts:{page_content_text_1:"Some content loaded with an AJAX call!"}},App.es_ES={texts:{page_content_text_1:"Parte del contenido cargado con una llamada AJAX!"}};